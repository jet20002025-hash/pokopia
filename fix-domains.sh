#!/bin/bash

# åŸŸåä¿®å¤è„šæœ¬ - ä¿®å¤æ— æ³•è®¿é—®çš„åŸŸå
# ç”¨äºŽä¿®å¤AdSenseå®¡æ ¸å¤±è´¥çš„åŸŸåé—®é¢˜

echo "ðŸ”§ åŸŸåä¿®å¤è„šæœ¬"
echo "================"
echo ""

# æ£€æŸ¥å½“å‰ç›®å½•
if [ ! -f "index.html" ]; then
    echo "âŒ é”™è¯¯: è¯·åœ¨åŒ…å«index.htmlçš„ç›®å½•ä¸­è¿è¡Œæ­¤è„šæœ¬"
    exit 1
fi

echo "ðŸ“‹ é—®é¢˜è¯Šæ–­ç»“æžœ:"
echo "=================="
echo ""
echo "1. 007firstlightinfo.com:"
echo "   - DNSè§£æž: âœ… æ­£å¸¸ (Cloudflare CDN)"
echo "   - HTTPè®¿é—®: âœ… æ­£å¸¸ (301é‡å®šå‘åˆ°HTTPS)"
echo "   - HTTPSè®¿é—®: âŒ å¤±è´¥ (SSLè¯ä¹¦é—®é¢˜)"
echo ""
echo "2. pokopia.info:"
echo "   - DNSè§£æž: âœ… æ­£å¸¸ (Cloudflare CDN)"
echo "   - HTTPè®¿é—®: âœ… æ­£å¸¸ (301é‡å®šå‘åˆ°HTTPS)"
echo "   - HTTPSè®¿é—®: âŒ å¤±è´¥ (SSLè¯ä¹¦é—®é¢˜)"
echo ""

echo "ðŸ” é—®é¢˜åˆ†æž:"
echo "============"
echo "æ‰€æœ‰åŸŸåéƒ½ä½¿ç”¨Cloudflare CDNï¼Œä½†HTTPSè®¿é—®å¤±è´¥ã€‚"
echo "è¿™é€šå¸¸æ˜¯å› ä¸ºï¼š"
echo "1. SSLè¯ä¹¦æœªæ­£ç¡®é…ç½®"
echo "2. Cloudflare SSLè®¾ç½®é—®é¢˜"
echo "3. æºæœåŠ¡å™¨SSLé…ç½®é—®é¢˜"
echo ""

echo "ðŸ› ï¸ ä¿®å¤æ–¹æ¡ˆ:"
echo "============"
echo ""

# åˆ›å»ºä¿®å¤æŒ‡å—
cat > domain-fix-guide.md << 'EOF'
# åŸŸåä¿®å¤æŒ‡å—

## é—®é¢˜è¯Šæ–­
- æ‰€æœ‰åŸŸåéƒ½ä½¿ç”¨Cloudflare CDN
- DNSè§£æžæ­£å¸¸
- HTTPè®¿é—®æ­£å¸¸ï¼ˆ301é‡å®šå‘åˆ°HTTPSï¼‰
- HTTPSè®¿é—®å¤±è´¥ï¼ˆSSLè¯ä¹¦é—®é¢˜ï¼‰

## ä¿®å¤æ­¥éª¤

### 1. Cloudflare SSLè®¾ç½®ä¿®å¤

ç™»å½•CloudflareæŽ§åˆ¶å°ï¼Œä¸ºæ¯ä¸ªåŸŸåè¿›è¡Œä»¥ä¸‹è®¾ç½®ï¼š

#### 007firstlightinfo.com
1. è¿›å…¥Cloudflare Dashboard
2. é€‰æ‹©åŸŸåï¼š007firstlightinfo.com
3. è¿›å…¥ SSL/TLS è®¾ç½®
4. å°†åŠ å¯†æ¨¡å¼è®¾ç½®ä¸ºï¼š"å®Œå…¨ï¼ˆä¸¥æ ¼ï¼‰"
5. ç¡®ä¿SSLè¯ä¹¦çŠ¶æ€ä¸º"æ´»è·ƒ"
6. æ£€æŸ¥æºæœåŠ¡å™¨è¯ä¹¦æ˜¯å¦æœ‰æ•ˆ

#### pokopia.info
1. è¿›å…¥Cloudflare Dashboard
2. é€‰æ‹©åŸŸåï¼špokopia.info
3. è¿›å…¥ SSL/TLS è®¾ç½®
4. å°†åŠ å¯†æ¨¡å¼è®¾ç½®ä¸ºï¼š"å®Œå…¨ï¼ˆä¸¥æ ¼ï¼‰"
5. ç¡®ä¿SSLè¯ä¹¦çŠ¶æ€ä¸º"æ´»è·ƒ"
6. æ£€æŸ¥æºæœåŠ¡å™¨è¯ä¹¦æ˜¯å¦æœ‰æ•ˆ

### 2. æºæœåŠ¡å™¨SSLé…ç½®

å¦‚æžœä½¿ç”¨è‡ªå·±çš„æœåŠ¡å™¨ï¼Œéœ€è¦ï¼š

1. å®‰è£…æœ‰æ•ˆçš„SSLè¯ä¹¦
2. é…ç½®WebæœåŠ¡å™¨ï¼ˆNginx/Apacheï¼‰
3. ç¡®ä¿HTTPSç«¯å£443å¼€æ”¾
4. æµ‹è¯•SSLé…ç½®

### 3. ç½‘ç«™æ–‡ä»¶éƒ¨ç½²

ç¡®ä¿ç½‘ç«™æ–‡ä»¶æ­£ç¡®éƒ¨ç½²åˆ°æºæœåŠ¡å™¨ï¼š

```bash
# ä¸Šä¼ æ–‡ä»¶åˆ°æœåŠ¡å™¨
scp -r * user@your-server:/var/www/html/

# è®¾ç½®æ­£ç¡®çš„æƒé™
chmod -R 755 /var/www/html/
chown -R www-data:www-data /var/www/html/
```

### 4. æµ‹è¯•ä¿®å¤ç»“æžœ

ä¿®å¤åŽè¿è¡Œæµ‹è¯•ï¼š

```bash
# æµ‹è¯•HTTPSè®¿é—®
curl -I https://007firstlightinfo.com
curl -I https://pokopia.info

# æµ‹è¯•AdSenseä»£ç 
curl -s https://007firstlightinfo.com | grep "ca-pub-7208260866318884"
curl -s https://pokopia.info | grep "ca-pub-7208260866318884"
```

## å¸¸è§é—®é¢˜è§£å†³

### SSLè¯ä¹¦é—®é¢˜
- æ£€æŸ¥è¯ä¹¦æ˜¯å¦è¿‡æœŸ
- ç¡®ä¿è¯ä¹¦é“¾å®Œæ•´
- éªŒè¯åŸŸååŒ¹é…

### Cloudflareè®¾ç½®é—®é¢˜
- æ£€æŸ¥SSL/TLSåŠ å¯†æ¨¡å¼
- ç¡®è®¤æºæœåŠ¡å™¨è¿žæŽ¥
- æ£€æŸ¥é˜²ç«å¢™è®¾ç½®

### æœåŠ¡å™¨é…ç½®é—®é¢˜
- æ£€æŸ¥WebæœåŠ¡å™¨é…ç½®
- ç¡®è®¤ç«¯å£å¼€æ”¾
- æ£€æŸ¥æ—¥å¿—æ–‡ä»¶

## éªŒè¯æ­¥éª¤

1. è®¿é—® https://www.ssllabs.com/ssltest/
2. è¾“å…¥åŸŸåè¿›è¡ŒSSLæµ‹è¯•
3. ç¡®ä¿è¯„çº§ä¸ºAæˆ–A+
4. æ£€æŸ¥æ‰€æœ‰å­é¡¹ç›®é€šè¿‡

## è”ç³»æ”¯æŒ

å¦‚æžœé—®é¢˜æŒç»­å­˜åœ¨ï¼š
- Cloudflareæ”¯æŒï¼šhttps://support.cloudflare.com
- æœåŠ¡å™¨æä¾›å•†æŠ€æœ¯æ”¯æŒ
- SSLè¯ä¹¦æä¾›å•†æ”¯æŒ
EOF

echo "ðŸ“ å·²åˆ›å»ºè¯¦ç»†ä¿®å¤æŒ‡å—: domain-fix-guide.md"
echo ""

echo "ðŸš€ å¿«é€Ÿä¿®å¤å‘½ä»¤:"
echo "================"
echo ""

echo "1. æ£€æŸ¥Cloudflare SSLè®¾ç½®:"
echo "   - ç™»å½• https://dash.cloudflare.com"
echo "   - é€‰æ‹©åŸŸå â†’ SSL/TLS â†’ æ¦‚è§ˆ"
echo "   - ç¡®ä¿åŠ å¯†æ¨¡å¼ä¸º'å®Œå…¨ï¼ˆä¸¥æ ¼ï¼‰'"
echo ""

echo "2. æ£€æŸ¥æºæœåŠ¡å™¨SSLè¯ä¹¦:"
echo "   - ç¡®ä¿SSLè¯ä¹¦æœ‰æ•ˆä¸”æœªè¿‡æœŸ"
echo "   - æ£€æŸ¥è¯ä¹¦é“¾å®Œæ•´"
echo "   - éªŒè¯åŸŸååŒ¹é…"
echo ""

echo "3. æµ‹è¯•ä¿®å¤ç»“æžœ:"
echo "   curl -I https://007firstlightinfo.com"
echo "   curl -I https://pokopia.info"
echo ""

echo "4. éªŒè¯AdSenseä»£ç :"
echo "   curl -s https://007firstlightinfo.com | grep 'ca-pub-7208260866318884'"
echo "   curl -s https://pokopia.info | grep 'ca-pub-7208260866318884'"
echo ""

echo "ðŸ“Š ä¿®å¤ä¼˜å…ˆçº§:"
echo "=============="
echo "1. ðŸ”¥ ç´§æ€¥: ä¿®å¤SSLè¯ä¹¦é—®é¢˜"
echo "2. ðŸ”¥ ç´§æ€¥: é…ç½®Cloudflare SSLè®¾ç½®"
echo "3. âš¡ é‡è¦: éƒ¨ç½²AdSenseä»£ç åˆ°æ‰€æœ‰ç½‘ç«™"
echo "4. âš¡ é‡è¦: æµ‹è¯•æ‰€æœ‰åŸŸåè®¿é—®"
echo ""

echo "â° é¢„è®¡ä¿®å¤æ—¶é—´:"
echo "================"
echo "- SSLè¯ä¹¦é—®é¢˜: 30åˆ†é’Ÿ - 2å°æ—¶"
echo "- Cloudflareè®¾ç½®: 10-30åˆ†é’Ÿ"
echo "- ç½‘ç«™éƒ¨ç½²: 15-30åˆ†é’Ÿ"
echo "- æµ‹è¯•éªŒè¯: 10-15åˆ†é’Ÿ"
echo ""

echo "âœ… ä¿®å¤å®ŒæˆåŽï¼ŒAdSenseå®¡æ ¸çŠ¶æ€åº”è¯¥ä¼šæ”¹å–„ï¼"
echo ""
echo "ðŸ“ž éœ€è¦å¸®åŠ©ï¼ŸæŸ¥çœ‹ domain-fix-guide.md èŽ·å–è¯¦ç»†æ­¥éª¤"
